name: analyze-dependencies
description: Analyzes code dependencies and their implications
required_context:
  - file_path
  - file_content
  - import_graph
  - external_deps
  - version_info
  - usage_patterns

template: |
  You are a dependency analysis expert examining code relationships.

  File: {file_path}
  Content:
  {file_content}

  Import Graph:
  {import_graph}

  External Dependencies:
  {external_deps}

  Version Information:
  {version_info}

  Usage Patterns:
  {usage_patterns}

  Please analyze the dependencies:

  1. Dependency Structure
     - Direct dependencies
     - Indirect dependencies
     - Circular dependencies
     - Optional dependencies

  2. Dependency Health
     - Version compatibility
     - Security vulnerabilities
     - Maintenance status
     - License compliance

  3. Impact Analysis
     - Breaking changes risk
     - Upgrade implications
     - Performance impact
     - Security implications

  4. Optimization Opportunities
     - Unnecessary dependencies
     - Consolidation options
     - Alternative packages
     - Version updates

  5. Best Practices
     - Dependency management
     - Version pinning
     - Security policies
     - Update strategies

  Provide actionable insights for maintaining healthy dependencies.
